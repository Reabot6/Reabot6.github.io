<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MyworldðŸ’œ</title>
    <link rel="icon" type="image/x-icon" href="love.png">
    <style>
    body {
        font-family: Arial, sans-serif;
        background-color: #f0f0f0;
        text-align: center;
    }

    #puzzle-container {
        margin: 20px auto;
        display: flex;
        flex-wrap: wrap;
        max-width: 800px;
        border: 2px solid #333;
        background-color: #fff;
    }

    .puzzle-piece {
        width: 100px;
        height: 100px;
        border: 1px solid #333;
        box-sizing: border-box;
        background-size: cover;
        cursor: pointer;
    }
</style>
</head>
<body>

<h1>Upload Image and Solve the Puzzle</h1>
<input type="file" id="file-input">
<div id="puzzle-container"></div>

<script>
    const fileInput = document.getElementById('file-input');
    const puzzleContainer = document.getElementById('puzzle-container');

    fileInput.addEventListener('change', function() {
        const file = this.files[0];
        if (file) {
            const reader = new FileReader();
            reader.onload = function(e) {
                const imageSrc = e.target.result;
                createPuzzle(imageSrc);
            };
            reader.readAsDataURL(file);
        }
    });

    function createPuzzle(imageSrc) {
        puzzleContainer.innerHTML = '';

        const img = new Image();
        img.src = imageSrc;
        img.onload = function() {
            const width = img.width;
            const height = img.height;
            const pieceWidth = width / 4;
            const pieceHeight = height / 4;

            for (let i = 0; i < 16; i++) {
                const piece = document.createElement('div');
                piece.classList.add('puzzle-piece');
                piece.style.backgroundImage = `url('${imageSrc}')`;
                piece.style.backgroundPosition = `-${pieceWidth * (i % 4)}px -${pieceHeight * Math.floor(i / 4)}px`;
                piece.style.order = i + 1;
                piece.addEventListener('click', () => {
                    movePiece(piece);
                    checkWin();
                });
                puzzleContainer.appendChild(piece);
            }
        };
    }

    function movePiece(piece) {
        const emptyPiece = document.querySelector('.empty');
        if (canMove(piece, emptyPiece)) {
            const tempOrder = piece.style.order;
            piece.style.order = emptyPiece.style.order;
            emptyPiece.style.order = tempOrder;
        }
    }

    function canMove(piece, emptyPiece) {
        const pieceOrder = parseInt(piece.style.order);
        const emptyOrder = parseInt(emptyPiece.style.order);
        return (pieceOrder === emptyOrder - 1 && emptyOrder % 4 !== 0) ||
               (pieceOrder === emptyOrder + 1 && pieceOrder % 4 !== 0) ||
               pieceOrder === emptyOrder - 4 ||
               pieceOrder === emptyOrder + 4;
    }

    function checkWin() {
        const pieces = document.querySelectorAll('.puzzle-piece');
        let win = true;
        pieces.forEach((piece, index) => {
            if (parseInt(piece.style.order) !== index + 1) {
                win = false;
            }
        });
        if (win) {
            alert('Congratulations! You solved the puzzle!');
        }
    }
</script>

</body>
</html>

